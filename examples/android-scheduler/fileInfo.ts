import { DirectoryInfo } from '@/utils/exampleFileUtils';
        export const FILE_INFO: DirectoryInfo = {"isFile":false,"name":"scheduler","path":"/","children":[{"isFile":false,"name":"src","path":"/src","children":[{"isFile":false,"name":"main","path":"/src/main","children":[{"isFile":false,"name":"java","path":"/src/main/java","children":[{"isFile":false,"name":"dev","path":"/src/main/java/dev","children":[{"isFile":false,"name":"yorkie","path":"/src/main/java/dev/yorkie","children":[{"isFile":false,"name":"example","path":"/src/main/java/dev/yorkie/example","children":[{"isFile":false,"name":"scheduler","path":"/src/main/java/dev/yorkie/example/scheduler","children":[{"isFile":false,"name":"ui","path":"/src/main/java/dev/yorkie/example/scheduler/ui","children":[{"isFile":false,"name":"theme","path":"/src/main/java/dev/yorkie/example/scheduler/ui/theme","children":[{"isFile":true,"isOpen":false,"language":"kotlin","name":"Color.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/theme/Color.kt","content":"package dev.yorkie.example.scheduler.ui.theme\n\nimport androidx.compose.ui.graphics.Color\n\nval Purple80 = Color(0xFFD0BCFF)\nval PurpleGrey80 = Color(0xFFCCC2DC)\nval Pink80 = Color(0xFFEFB8C8)\n\nval Purple40 = Color(0xFF6650a4)\nval PurpleGrey40 = Color(0xFF625b71)\nval Pink40 = Color(0xFF7D5260)\n\n// Calendar specific colors\nval CalendarBackground = Color(0xFFF5F5F5)\nval CalendarSelected = Color(0xFF2196F3)\nval CalendarToday = Color(0xFF4CAF50)\nval CalendarEvent = Color(0xFFFF9800)\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"Theme.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/theme/Theme.kt","content":"package dev.yorkie.example.scheduler.ui.theme\n\nimport androidx.compose.foundation.isSystemInDarkTheme\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.darkColors\nimport androidx.compose.material.lightColors\nimport androidx.compose.runtime.Composable\n\nprivate val DarkColorPalette = darkColors(\n    primary = Purple80,\n    secondary = PurpleGrey80,\n)\n\nprivate val LightColorPalette = lightColors(\n    primary = Purple40,\n    secondary = PurpleGrey40,\n)\n\n@Composable\nfun SchedulerTheme(darkTheme: Boolean = isSystemInDarkTheme(), content: @Composable () -> Unit) {\n    val colors = when {\n        darkTheme -> DarkColorPalette\n        else -> LightColorPalette\n    }\n\n    MaterialTheme(\n        colors = colors,\n        typography = Typography,\n        content = content,\n    )\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"Type.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/theme/Type.kt","content":"package dev.yorkie.example.scheduler.ui.theme\n\nimport androidx.compose.material.Typography\nimport androidx.compose.ui.text.TextStyle\nimport androidx.compose.ui.text.font.FontFamily\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.sp\n\nval Typography = Typography(\n    body1 = TextStyle(\n        fontFamily = FontFamily.Default,\n        fontWeight = FontWeight.Normal,\n        fontSize = 16.sp,\n        lineHeight = 24.sp,\n        letterSpacing = 0.5.sp,\n    ),\n)\n"}]},{"isFile":false,"name":"scheduler","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler","children":[{"isFile":false,"name":"navigation","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/navigation","children":[{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerNavigation.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/navigation/SchedulerNavigation.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler.navigation\n\nimport androidx.lifecycle.viewmodel.compose.viewModel\nimport androidx.navigation.NavController\nimport androidx.navigation.NavGraphBuilder\nimport androidx.navigation.NavType\nimport androidx.navigation.compose.composable\nimport androidx.navigation.navArgument\nimport dev.yorkie.example.scheduler.ui.scheduler.SchedulerScreen\nimport dev.yorkie.example.scheduler.ui.scheduler.SchedulerViewModel\nimport java.net.URLEncoder\nimport kotlin.text.Charsets.UTF_8\n\nconst val DOCUMENT_KEY_ARG = \"documentKey\"\nconst val SCHEDULER_BASE_ROUTE = \"scheduler_route\"\nconst val SCHEDULER_ROUTE = \"scheduler_route?$DOCUMENT_KEY_ARG={$DOCUMENT_KEY_ARG}\"\n\nfun NavController.navigateToScheduler(documentKey: String) {\n    val encodedDocumentKey = URLEncoder.encode(documentKey, UTF_8.name())\n    val route = \"$SCHEDULER_BASE_ROUTE?${DOCUMENT_KEY_ARG}=$encodedDocumentKey\"\n    navigate(route = route)\n}\n\nfun NavGraphBuilder.schedulerScreen() {\n    composable(\n        route = SCHEDULER_ROUTE,\n        arguments = listOf(\n            navArgument(DOCUMENT_KEY_ARG) {\n                defaultValue = null\n                nullable = true\n                type = NavType.StringType\n            },\n        ),\n    ) { backStackEntry ->\n        val documentKey = backStackEntry.arguments?.getString(DOCUMENT_KEY_ARG)\n\n        val viewModel: SchedulerViewModel = viewModel(\n            factory = SchedulerViewModel.provideFactory(documentKey),\n        )\n\n        SchedulerScreen(\n            viewModel = viewModel,\n        )\n    }\n}\n"}]},{"isFile":true,"isOpen":false,"language":"kotlin","name":"CalendarView.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/CalendarView.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.border\nimport androidx.compose.foundation.clickable\nimport androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Row\nimport androidx.compose.foundation.layout.aspectRatio\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.foundation.layout.size\nimport androidx.compose.foundation.lazy.grid.GridCells\nimport androidx.compose.foundation.lazy.grid.LazyVerticalGrid\nimport androidx.compose.foundation.shape.RoundedCornerShape\nimport androidx.compose.material.IconButton\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.draw.clip\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\nimport dev.yorkie.example.scheduler.ui.theme.CalendarEvent\nimport dev.yorkie.example.scheduler.ui.theme.CalendarSelected\nimport dev.yorkie.example.scheduler.ui.theme.CalendarToday\nimport java.text.SimpleDateFormat\nimport java.util.Calendar\nimport java.util.Date\nimport java.util.Locale\n\n@Composable\nfun CalendarView(\n    selectedDate: Date,\n    displayMonth: Date,\n    events: List<Event>,\n    onDateSelected: (Date) -> Unit,\n    onNavigateMonth: (MonthDirection) -> Unit,\n) {\n    val calendar = Calendar.getInstance()\n    val currentMonth = calendar.get(Calendar.MONTH)\n    val currentYear = calendar.get(Calendar.YEAR)\n\n    calendar.time = displayMonth\n    val displayMonthValue = calendar.get(Calendar.MONTH)\n    val displayYear = calendar.get(Calendar.YEAR)\n\n    // Get first day of month and number of days\n    calendar.set(Calendar.DAY_OF_MONTH, 1)\n    val firstDayOfWeek = calendar.get(Calendar.DAY_OF_WEEK)\n    val daysInMonth = calendar.getActualMaximum(Calendar.DAY_OF_MONTH)\n\n    val today = Calendar.getInstance()\n    val isCurrentMonth = displayMonthValue == currentMonth && displayYear == currentYear\n\n    Column {\n        // Month/Year header with navigation\n        Row(\n            modifier = Modifier\n                .fillMaxWidth()\n                .padding(vertical = 8.dp),\n            horizontalArrangement = Arrangement.SpaceBetween,\n            verticalAlignment = Alignment.CenterVertically,\n        ) {\n            IconButton(\n                onClick = { onNavigateMonth(MonthDirection.PREVIOUS) },\n            ) {\n                Text(\n                    text = \"◀\",\n                    style = MaterialTheme.typography.h6,\n                    fontWeight = FontWeight.Bold,\n                )\n            }\n\n            Text(\n                text = SimpleDateFormat(\"MMMM yyyy\", Locale.getDefault()).format(displayMonth),\n                style = MaterialTheme.typography.h6,\n                fontWeight = FontWeight.Bold,\n            )\n\n            IconButton(\n                onClick = { onNavigateMonth(MonthDirection.NEXT) },\n            ) {\n                Text(\n                    text = \"▶\",\n                    style = MaterialTheme.typography.h6,\n                    fontWeight = FontWeight.Bold,\n                )\n            }\n        }\n\n        // Day headers\n        Row(\n            modifier = Modifier.fillMaxWidth(),\n        ) {\n            listOf(\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\").forEach { day ->\n                Box(\n                    modifier = Modifier\n                        .weight(1f)\n                        .padding(2.dp),\n                    contentAlignment = Alignment.Center,\n                ) {\n                    Text(\n                        text = day,\n                        style = MaterialTheme.typography.caption,\n                        fontWeight = FontWeight.Bold,\n                    )\n                }\n            }\n        }\n\n        // Calendar grid\n        LazyVerticalGrid(\n            columns = GridCells.Fixed(7),\n            modifier = Modifier\n                .fillMaxWidth()\n                .height(280.dp),\n        ) {\n            // Empty cells for days before month starts\n            items((firstDayOfWeek - 1) % 7) {\n                Box(\n                    modifier = Modifier\n                        .aspectRatio(1f)\n                        .padding(2.dp),\n                )\n            }\n\n            // Days of the month\n            items(daysInMonth) { day ->\n                val dayNumber = day + 1\n                val date = Calendar.getInstance().apply {\n                    set(displayYear, displayMonthValue, dayNumber)\n                }.time\n\n                val dateStr = Event.parseDate(date)\n                val hasEvent = events.any {\n                    it.date == dateStr\n                }\n                val isSelected = dateStr == Event.parseDate(selectedDate)\n                val isToday = isCurrentMonth && dayNumber == today.get(Calendar.DAY_OF_MONTH)\n\n                CalendarDay(\n                    day = dayNumber,\n                    hasEvent = hasEvent,\n                    isSelected = isSelected,\n                    isToday = isToday,\n                    onClick = { onDateSelected(date) },\n                )\n            }\n        }\n    }\n}\n\n@Composable\nprivate fun CalendarDay(\n    day: Int,\n    hasEvent: Boolean,\n    isSelected: Boolean,\n    isToday: Boolean,\n    onClick: () -> Unit,\n) {\n    val backgroundColor = when {\n        isSelected -> CalendarSelected\n        isToday -> CalendarToday\n        else -> Color.Transparent\n    }\n\n    val borderColor = if (isSelected) CalendarSelected else Color.Transparent\n\n    Box(\n        modifier = Modifier\n            .aspectRatio(1f)\n            .padding(2.dp)\n            .clip(RoundedCornerShape(8.dp))\n            .background(backgroundColor)\n            .border(\n                width = if (isSelected) 2.dp else 0.dp,\n                color = borderColor,\n                shape = RoundedCornerShape(8.dp),\n            )\n            .clickable { onClick() },\n        contentAlignment = Alignment.Center,\n    ) {\n        Column(\n            horizontalAlignment = Alignment.CenterHorizontally,\n        ) {\n            Text(\n                text = day.toString(),\n                style = MaterialTheme.typography.body2,\n                fontWeight = if (isSelected) FontWeight.Bold else FontWeight.Normal,\n                color = if (isSelected) Color.White else MaterialTheme.colors.onSurface,\n            )\n\n            if (hasEvent) {\n                Box(\n                    modifier = Modifier\n                        .size(6.dp)\n                        .clip(RoundedCornerShape(3.dp))\n                        .background(CalendarEvent),\n                )\n            }\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"Event.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/Event.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport java.util.Calendar\nimport java.util.Date\n\n/**\n * Represents a calendar event with date and text content\n */\ndata class Event(\n    // Format: DD-MM-YY\n    val date: String,\n    val text: String,\n) {\n    companion object {\n        /**\n         * Parse date from Date object to DD-MM-YY format\n         */\n        fun parseDate(date: Date): String {\n            val calendar = Calendar.getInstance()\n            calendar.time = date\n\n            val day = calendar.get(Calendar.DAY_OF_MONTH).toString().padStart(2, '0')\n            val month = (calendar.get(Calendar.MONTH) + 1).toString().padStart(2, '0')\n            val year = calendar.get(Calendar.YEAR).toString().takeLast(2)\n\n            return \"$day-$month-$year\"\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"EventInputSection.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/EventInputSection.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Spacer\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.material.Button\nimport androidx.compose.material.Card\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.OutlinedTextField\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.res.stringResource\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\nimport dev.yorkie.example.scheduler.R\n\n@Composable\nfun EventInputSection(\n    eventText: String,\n    onTextChange: (String) -> Unit,\n    onAddEvent: () -> Unit,\n) {\n    Card(\n        modifier = Modifier.fillMaxWidth(),\n        elevation = 4.dp,\n    ) {\n        Column(\n            modifier = Modifier.padding(16.dp),\n        ) {\n            Text(\n                text = stringResource(R.string.add_event),\n                style = MaterialTheme.typography.h6,\n                fontWeight = FontWeight.Bold,\n                modifier = Modifier.padding(bottom = 8.dp),\n            )\n\n            OutlinedTextField(\n                value = eventText,\n                onValueChange = onTextChange,\n                label = { Text(stringResource(R.string.event_text_hint)) },\n                modifier = Modifier.fillMaxWidth(),\n                singleLine = true,\n            )\n\n            Spacer(modifier = Modifier.height(12.dp))\n\n            Button(\n                onClick = onAddEvent,\n                enabled = eventText.isNotBlank(),\n                modifier = Modifier.fillMaxWidth(),\n            ) {\n                Text(stringResource(R.string.add_event))\n            }\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"EventItem.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/EventItem.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport androidx.compose.foundation.layout.Row\nimport androidx.compose.foundation.layout.Spacer\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.foundation.layout.width\nimport androidx.compose.material.Card\nimport androidx.compose.material.Icon\nimport androidx.compose.material.IconButton\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.OutlinedTextField\nimport androidx.compose.material.Text\nimport androidx.compose.material.TextButton\nimport androidx.compose.material.icons.Icons\nimport androidx.compose.material.icons.filled.Delete\nimport androidx.compose.material.icons.filled.Edit\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.getValue\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.runtime.setValue\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\n\n@Composable\nfun EventItem(\n    event: Event,\n    onEdit: (String) -> Unit,\n    onDelete: () -> Unit,\n) {\n    var isEditing by remember { mutableStateOf(false) }\n    var editText by remember { mutableStateOf(event.text) }\n\n    Card(\n        modifier = Modifier\n            .fillMaxWidth()\n            .padding(vertical = 4.dp),\n        elevation = 2.dp,\n    ) {\n        Row(\n            modifier = Modifier\n                .fillMaxWidth()\n                .padding(16.dp),\n            verticalAlignment = Alignment.CenterVertically,\n        ) {\n            if (isEditing) {\n                OutlinedTextField(\n                    value = editText,\n                    onValueChange = { editText = it },\n                    modifier = Modifier.weight(1f),\n                    singleLine = true,\n                )\n\n                Spacer(modifier = Modifier.width(8.dp))\n\n                TextButton(\n                    onClick = {\n                        onEdit(editText)\n                        isEditing = false\n                    },\n                ) {\n                    Text(\"Save\")\n                }\n\n                TextButton(\n                    onClick = {\n                        editText = event.text\n                        isEditing = false\n                    },\n                ) {\n                    Text(\"Cancel\")\n                }\n            } else {\n                Text(\n                    text = event.text,\n                    style = MaterialTheme.typography.body1,\n                    fontWeight = FontWeight.Medium,\n                    modifier = Modifier.weight(1f),\n                )\n\n                IconButton(\n                    onClick = { isEditing = true },\n                ) {\n                    Icon(\n                        imageVector = Icons.Default.Edit,\n                        contentDescription = \"Edit event\",\n                    )\n                }\n\n                IconButton(\n                    onClick = onDelete,\n                ) {\n                    Icon(\n                        imageVector = Icons.Default.Delete,\n                        contentDescription = \"Delete event\",\n                    )\n                }\n            }\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerAction.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/SchedulerAction.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\n/**\n * Actions that can be performed on the scheduler\n */\nsealed class SchedulerAction {\n    data class AddEvent(val date: String, val text: String) : SchedulerAction()\n    data class UpdateEvent(val date: String, val text: String) : SchedulerAction()\n    data class DeleteEvent(val date: String) : SchedulerAction()\n    data class SetSelectedDate(val date: java.util.Date) : SchedulerAction()\n    data class SetEventText(val text: String) : SchedulerAction()\n    data class ShowEventDialog(val show: Boolean) : SchedulerAction()\n    data class NavigateMonth(val direction: MonthDirection) : SchedulerAction()\n}\n\nenum class MonthDirection {\n    PREVIOUS,\n    NEXT,\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerScreen.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/SchedulerScreen.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Spacer\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.foundation.lazy.LazyColumn\nimport androidx.compose.foundation.lazy.items\nimport androidx.compose.material.CircularProgressIndicator\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.collectAsState\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.res.stringResource\nimport androidx.compose.ui.text.font.FontWeight\nimport androidx.compose.ui.unit.dp\nimport dev.yorkie.example.scheduler.R\nimport java.text.SimpleDateFormat\nimport java.util.Locale\n\n@Composable\nfun SchedulerScreen(modifier: Modifier = Modifier, viewModel: SchedulerViewModel) {\n    val state = viewModel.state.collectAsState()\n\n    SchedulerScreen(\n        state = state.value,\n        onAction = viewModel::dispatch,\n        modifier = modifier,\n    )\n}\n\n@Composable\nfun SchedulerScreen(\n    state: SchedulerState,\n    onAction: (SchedulerAction) -> Unit,\n    modifier: Modifier = Modifier,\n) {\n    if (state.isLoading) {\n        Box(\n            modifier = modifier.fillMaxSize(),\n            contentAlignment = Alignment.Center,\n        ) {\n            CircularProgressIndicator()\n        }\n    } else if (state.error != null) {\n        Box(\n            modifier = modifier.fillMaxSize(),\n            contentAlignment = Alignment.Center,\n        ) {\n            Text(\n                text = state.error,\n                style = MaterialTheme.typography.body1,\n                color = MaterialTheme.colors.error,\n            )\n        }\n    } else {\n        Column(\n            modifier = modifier\n                .fillMaxSize()\n                .padding(16.dp),\n        ) {\n            // Peers indicator\n            if (state.peers.isNotEmpty()) {\n                Text(\n                    text = stringResource(R.string.peers_online, state.peers.joinToString(\", \")),\n                    style = MaterialTheme.typography.caption,\n                    color = MaterialTheme.colors.onSurface.copy(alpha = 0.6f),\n                    modifier = Modifier.padding(bottom = 8.dp),\n                )\n            }\n\n            // Calendar\n            CalendarView(\n                selectedDate = state.selectedDate,\n                displayMonth = state.displayMonth,\n                events = state.events,\n                onDateSelected = { date ->\n                    onAction(SchedulerAction.SetSelectedDate(date))\n                },\n                onNavigateMonth = { direction ->\n                    onAction(SchedulerAction.NavigateMonth(direction))\n                },\n            )\n\n            Spacer(modifier = Modifier.height(16.dp))\n\n            // Selected date info\n            val dateFormat = SimpleDateFormat(\"EEEE, MMMM dd, yyyy\", Locale.getDefault())\n            Text(\n                text = stringResource(\n                    id = R.string.selected_date,\n                    dateFormat.format(state.selectedDate),\n                ),\n                style = MaterialTheme.typography.body1,\n                fontWeight = FontWeight.Bold,\n                modifier = Modifier.padding(bottom = 8.dp),\n            )\n\n            // Events for selected date\n            val selectedDateStr = Event.parseDate(state.selectedDate)\n            val dayEvents = state.events.filter { it.date == selectedDateStr }\n\n            if (dayEvents.isEmpty()) {\n                Text(\n                    text = stringResource(R.string.no_events),\n                    style = MaterialTheme.typography.body2,\n                    color = MaterialTheme.colors.onSurface.copy(alpha = 0.6f),\n                    modifier = Modifier.padding(vertical = 8.dp),\n                )\n            } else {\n                LazyColumn {\n                    items(dayEvents) { event ->\n                        EventItem(\n                            event = event,\n                            onEdit = { text ->\n                                onAction(SchedulerAction.UpdateEvent(event.date, text))\n                            },\n                            onDelete = {\n                                onAction(SchedulerAction.DeleteEvent(event.date))\n                            },\n                        )\n                    }\n                }\n            }\n\n            Spacer(modifier = Modifier.height(16.dp))\n\n            // Add event section\n            EventInputSection(\n                eventText = state.eventText,\n                onTextChange = { text ->\n                    onAction(SchedulerAction.SetEventText(text))\n                },\n                onAddEvent = {\n                    onAction(SchedulerAction.AddEvent(selectedDateStr, state.eventText))\n                    onAction(SchedulerAction.SetEventText(\"\"))\n                },\n            )\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerState.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/SchedulerState.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport java.util.Date\n\n/**\n * State of the scheduler application\n */\ndata class SchedulerState(\n    val events: List<Event> = emptyList(),\n    val selectedDate: Date = Date(),\n    val displayMonth: Date = Date(),\n    val eventText: String = \"\",\n    val isLoading: Boolean = true,\n    val error: String? = null,\n    val showEventDialog: Boolean = false,\n    val peers: List<String> = emptyList(),\n)\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerViewModel.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/scheduler/SchedulerViewModel.kt","content":"package dev.yorkie.example.scheduler.ui.scheduler\n\nimport androidx.lifecycle.ViewModel\nimport androidx.lifecycle.ViewModelProvider\nimport androidx.lifecycle.viewModelScope\nimport com.google.gson.Gson\nimport dev.yorkie.core.Client\nimport dev.yorkie.document.Document\nimport dev.yorkie.document.json.JsonArray\nimport dev.yorkie.document.json.JsonObject\nimport dev.yorkie.document.json.JsonPrimitive\nimport dev.yorkie.example.scheduler.BuildConfig\nimport java.net.URLDecoder\nimport java.util.Calendar\nimport java.util.Date\nimport kotlin.text.Charsets.UTF_8\nimport kotlinx.coroutines.CoroutineScope\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.SupervisorJob\nimport kotlinx.coroutines.flow.MutableStateFlow\nimport kotlinx.coroutines.flow.StateFlow\nimport kotlinx.coroutines.flow.asStateFlow\nimport kotlinx.coroutines.launch\nimport timber.log.Timber\n\nclass SchedulerViewModel(\n    documentKey: String,\n) : ViewModel() {\n    private val client = Client(\n        options = Client.Options(\n            apiKey = BuildConfig.YORKIE_API_KEY,\n        ),\n        host = BuildConfig.YORKIE_SERVER_URL,\n    )\n\n    private val document = Document(documentKey)\n\n    private val _state = MutableStateFlow(\n        SchedulerState(\n            events = emptyList(),\n            isLoading = true,\n        ),\n    )\n    val state: StateFlow<SchedulerState> = _state.asStateFlow()\n\n    private val randomPeers = listOf(\n        \"Alice\", \"Bob\", \"Carol\", \"Chuck\", \"Dave\", \"Erin\", \"Frank\", \"Grace\",\n        \"Ivan\", \"Justin\", \"Matilda\", \"Oscar\", \"Steve\", \"Victor\", \"Zoe\",\n    )\n\n    private val gson = Gson()\n\n    init {\n        viewModelScope.launch {\n            connectAndAttachDocument()\n        }\n\n        viewModelScope.launch {\n            // Subscribe to document changes\n            launch {\n                document.events.collect { event ->\n                    when (event) {\n                        is Document.Event.SyncStatusChanged.Synced -> {\n                            val root = document.getRoot()\n                                .getAsOrNull<JsonArray>(DOCUMENT_EVENTS_KEY)\n                            root?.let(::updateEventsFromDocument)\n                        }\n\n                        else -> {\n                            Unit\n                        }\n                    }\n                }\n            }\n\n            // Subscribe to presence changes\n            launch {\n                document.presences.collect { presences ->\n                    val peerNames = presences.mapNotNull { (_, presence) ->\n                        gson.fromJson(presence[\"userName\"], String::class.java)\n                    }\n                    _state.value = _state.value.copy(peers = peerNames)\n                }\n            }\n        }\n    }\n\n    private suspend fun connectAndAttachDocument() {\n        try {\n            val activateAsyncResult = client.activateAsync().await()\n            if (!activateAsyncResult.isSuccess) {\n                _state.value = _state.value.copy(\n                    isLoading = false,\n                    error = \"Failed to connect to Yorkie server\",\n                )\n                Timber.e(\n                    \"${this@SchedulerViewModel::class.java.name}#init: %s\",\n                    \"Failed to connect to Yorkie server ${BuildConfig.YORKIE_SERVER_URL}, \" +\n                        \"Error: ${activateAsyncResult.exceptionOrNull()}\",\n                )\n                return\n            }\n\n            val attachDocumentResult = client.attachDocument(\n                document,\n                initialPresence = mapOf(\"userName\" to \"\\\"${randomPeers.random()}\\\"\"),\n            ).await()\n            if (!attachDocumentResult.isSuccess) {\n                _state.value = _state.value.copy(\n                    isLoading = false,\n                    error = \"Failed to attach document to Yorkie server\",\n                )\n                Timber.e(\n                    \"${this@SchedulerViewModel::class.java.name}#init: %s\",\n                    \"Failed to attach document ${document.getKey()} \" +\n                        \"to Yorkie server ${BuildConfig.YORKIE_SERVER_URL}, \" +\n                        \"Error: ${attachDocumentResult.exceptionOrNull()}\",\n                )\n                return\n            }\n\n            Timber.i(\n                \"${this@SchedulerViewModel::class.java.name}#init: %s\",\n                \"Connected to Yorkie server ${BuildConfig.YORKIE_SERVER_URL} \" +\n                    \"with document ${document.getKey()}\",\n            )\n\n            _state.value = _state.value.copy(\n                isLoading = false,\n            )\n\n            client.syncAsync().await()\n            document.getRoot().getAsOrNull<JsonArray>(DOCUMENT_EVENTS_KEY)\n                ?: run {\n                    document.updateAsync { root, _ ->\n                        root.setNewArray(DOCUMENT_EVENTS_KEY).apply {\n                            putNewObject().apply {\n                                set(\n                                    \"date\",\n                                    Event.parseDate(Date()).replace(Regex(\"\\\\d{2}$\"), \"01\"),\n                                )\n                                set(\"text\", \"payday\")\n                            }\n                            putNewObject().apply {\n                                set(\n                                    \"date\",\n                                    Event.parseDate(Date()).replace(Regex(\"\\\\d{2}$\"), \"17\"),\n                                )\n                                set(\"text\", \"Garry's birthday\")\n                            }\n                        }\n                    }.await()\n                }\n        } catch (e: Exception) {\n            _state.value = _state.value.copy(\n                isLoading = false,\n                error = \"Failed to connect: ${e.message}\",\n            )\n            Timber.e(\n                \"${this@SchedulerViewModel::class.java.name}#init: %s\",\n                e.message ?: \"Unknown error occurred\",\n            )\n        }\n    }\n\n    fun dispatch(action: SchedulerAction) {\n        when (action) {\n            is SchedulerAction.AddEvent -> addEvent(action.date, action.text)\n            is SchedulerAction.UpdateEvent -> updateEvent(action.date, action.text)\n            is SchedulerAction.DeleteEvent -> deleteEvent(action.date)\n            is SchedulerAction.SetSelectedDate -> setSelectedDate(action.date)\n            is SchedulerAction.SetEventText -> setEventText(action.text)\n            is SchedulerAction.ShowEventDialog -> showEventDialog(action.show)\n            is SchedulerAction.NavigateMonth -> navigateMonth(action.direction)\n        }\n    }\n\n    private fun addEvent(date: String, text: String) {\n        if (text.isBlank()) return\n\n        viewModelScope.launch {\n            document.updateAsync { root, _ ->\n                root.getAs<JsonArray>(DOCUMENT_EVENTS_KEY).putNewObject().apply {\n                    set(\"date\", date)\n                    set(\"text\", text.trim())\n                }\n            }.await()\n        }\n    }\n\n    private fun updateEvent(date: String, text: String) {\n        if (text.isBlank()) {\n            deleteEvent(date)\n            return\n        }\n\n        viewModelScope.launch {\n            document.updateAsync { root, _ ->\n                val events = root.getAs<JsonArray>(DOCUMENT_EVENTS_KEY)\n                val eventToUpdate = events.filterIsInstance<JsonObject>()\n                    .find { it.getAs<JsonPrimitive>(\"date\").getValueAs<String>() == date }\n                eventToUpdate?.set(\"text\", text.trim())\n            }.await()\n        }\n    }\n\n    private fun deleteEvent(date: String) {\n        viewModelScope.launch {\n            document.updateAsync { root, _ ->\n                val events = root.getAs<JsonArray>(DOCUMENT_EVENTS_KEY)\n                val eventToRemove = events.filterIsInstance<JsonObject>()\n                    .find { it.getAs<JsonPrimitive>(\"date\").getValueAs<String>() == date }\n                eventToRemove?.let { events.remove(it.id) }\n            }.await()\n        }\n    }\n\n    private fun setSelectedDate(date: Date) {\n        _state.value = _state.value.copy(selectedDate = date)\n    }\n\n    private fun setEventText(text: String) {\n        _state.value = _state.value.copy(eventText = text)\n    }\n\n    private fun showEventDialog(show: Boolean) {\n        _state.value = _state.value.copy(showEventDialog = show)\n    }\n\n    private fun navigateMonth(direction: MonthDirection) {\n        val calendar = Calendar.getInstance()\n        calendar.time = _state.value.displayMonth\n\n        when (direction) {\n            MonthDirection.PREVIOUS -> calendar.add(Calendar.MONTH, -1)\n            MonthDirection.NEXT -> calendar.add(Calendar.MONTH, 1)\n        }\n\n        _state.value = _state.value.copy(displayMonth = calendar.time)\n    }\n\n    private fun updateEventsFromDocument(eventsArray: JsonArray) {\n        viewModelScope.launch {\n            val events = eventsArray.filterIsInstance<JsonObject>()\n                .mapNotNull { eventObj ->\n                    val date = eventObj.getAsOrNull<JsonPrimitive>(\"date\")\n                    val text = eventObj.getAsOrNull<JsonPrimitive>(\"text\")\n\n                    if (date != null && text != null) {\n                        Event(\n                            date = date.getValueAs(),\n                            text = text.getValueAs(),\n                        )\n                    } else {\n                        null\n                    }\n                }\n\n            _state.value = _state.value.copy(\n                events = events,\n                isLoading = false,\n                error = null,\n            )\n        }\n    }\n\n    override fun onCleared() {\n        TerminationScope.launch {\n            client.detachDocument(document).await()\n            client.deactivateAsync().await()\n        }\n        super.onCleared()\n    }\n\n    companion object {\n        private const val DOCUMENT_EVENTS_KEY = \"content\"\n        private val TerminationScope = CoroutineScope(Dispatchers.Main.immediate + SupervisorJob())\n\n        fun provideFactory(documentKey: String?): ViewModelProvider.Factory =\n            object : ViewModelProvider.Factory {\n                override fun <T : ViewModel> create(modelClass: Class<T>): T {\n                    documentKey ?: throw IllegalArgumentException(\"Document Key is not found\")\n                    val decodedDocumentKey = URLDecoder.decode(documentKey, UTF_8.name())\n                    return SchedulerViewModel(decodedDocumentKey) as T\n                }\n            }\n    }\n}\n"}]},{"isFile":true,"isOpen":false,"language":"kotlin","name":"SchedulerAppHost.kt","path":"/src/main/java/dev/yorkie/example/scheduler/ui/SchedulerAppHost.kt","content":"package dev.yorkie.example.scheduler.ui\n\nimport androidx.compose.runtime.Composable\nimport androidx.navigation.NavHostController\nimport androidx.navigation.compose.NavHost\nimport dev.yorkie.example.feature.enterdocumentkey.navigation.ENTER_DOCUMENT_KEY_ROUTE\nimport dev.yorkie.example.feature.enterdocumentkey.navigation.enterDocumentKeyScreen\nimport dev.yorkie.example.scheduler.ui.scheduler.navigation.navigateToScheduler\nimport dev.yorkie.example.scheduler.ui.scheduler.navigation.schedulerScreen\n\n@Composable\nfun SchedulerAppHost(navController: NavHostController) {\n    NavHost(\n        navController = navController,\n        startDestination = ENTER_DOCUMENT_KEY_ROUTE,\n    ) {\n        enterDocumentKeyScreen(\n            onNextClick = {\n                navController.navigateToScheduler(it)\n            },\n        )\n\n        schedulerScreen()\n    }\n}\n"}]},{"isFile":true,"isOpen":false,"language":"kotlin","name":"MainActivity.kt","path":"/src/main/java/dev/yorkie/example/scheduler/MainActivity.kt","content":"package dev.yorkie.example.scheduler\n\nimport android.os.Bundle\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.activity.enableEdgeToEdge\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.foundation.layout.navigationBarsPadding\nimport androidx.compose.foundation.layout.statusBarsPadding\nimport androidx.compose.material.MaterialTheme\nimport androidx.compose.material.Surface\nimport androidx.compose.ui.Modifier\nimport androidx.navigation.compose.rememberNavController\nimport dev.yorkie.example.scheduler.ui.SchedulerAppHost\nimport dev.yorkie.example.scheduler.ui.theme.SchedulerTheme\n\nclass MainActivity : ComponentActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        enableEdgeToEdge()\n        setContent {\n            SchedulerTheme {\n                Surface(\n                    modifier = Modifier\n                        .fillMaxSize()\n                        .statusBarsPadding()\n                        .navigationBarsPadding(),\n                    color = MaterialTheme.colors.background,\n                ) {\n                    SchedulerAppHost(navController = rememberNavController())\n                }\n            }\n        }\n    }\n}\n"},{"isFile":true,"isOpen":false,"language":"kotlin","name":"MainApplication.kt","path":"/src/main/java/dev/yorkie/example/scheduler/MainApplication.kt","content":"package dev.yorkie.example.scheduler\n\nimport android.app.Application\nimport dev.yorkie.example.core.common.logger.YorkieLogger\n\nclass MainApplication : Application() {\n    override fun onCreate() {\n        super.onCreate()\n        YorkieLogger.initLogger()\n    }\n}\n"}]}]}]}]}]},{"isFile":true,"isOpen":false,"language":"markup","name":"AndroidManifest.xml","path":"/src/main/AndroidManifest.xml","content":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n\n    <application\n        android:name=\".MainApplication\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:networkSecurityConfig=\"@xml/network_security_config\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.Scheduler\"\n        tools:targetApi=\"31\">\n        <activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"\n            android:theme=\"@style/Theme.Scheduler\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>\n\n\n\n"}]}]},{"isFile":true,"isOpen":false,"language":"kotlin","name":"build.gradle.kts","path":"/build.gradle.kts","content":"import dev.yorkie.dsl.implementation\n\nplugins {\n    alias(libs.plugins.yorkie.examples.android.application)\n    alias(libs.plugins.yorkie.examples.android.application.compose)\n}\n\nandroid {\n    namespace = \"dev.yorkie.example.scheduler\"\n\n    defaultConfig {\n        applicationId = \"dev.yorkie.example.scheduler\"\n        versionCode = 1\n        versionName = \"1.0.0\"\n    }\n\n    buildTypes {\n        release {\n            isShrinkResources = true\n            isMinifyEnabled = true\n            proguardFiles(\n                getDefaultProguardFile(\"proguard-android-optimize.txt\"),\n                \"proguard-rules.pro\",\n            )\n        }\n    }\n}\n\ndependencies {\n    implementation(projects.yorkie)\n    implementation(projects.examples.feature.enterDocumentKey)\n\n    implementation(libs.androidx.core)\n    implementation(libs.androidx.appcompat)\n    implementation(libs.material)\n    implementation(libs.androidx.lifecycle.runtime)\n    implementation(libs.androidx.lifecycle.viewmodel)\n    implementation(libs.androidx.activity.compose)\n    implementation(libs.kotlinx.coroutines)\n    implementation(libs.kotlinx.collections.immutable)\n\n    implementation(libs.androidx.compose.material)\n    implementation(libs.androidx.compose.material.icons.extended)\n\n    // Gson\n    implementation(libs.gson)\n\n    implementation(libs.timber)\n}\n"}]}